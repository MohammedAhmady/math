
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منهج Science للصف الأول الإعدادي - الترم الثاني 2024/2025</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#8B4513">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="منهج Science">
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoi2YXZhtmH2KwgU2NpZW5jZSDZhNmE2LXZgSDYp9mE2KPZiNmEINin2YTYpdi52K/Yp9iv2YoiLCJzaG9ydF9uYW1lIjoi2YXZhtmH2KwgU2NpZW5jZSIsInN0YXJ0X3VybCI6Ii8iLCJkaXNwbGF5Ijoic3RhbmRhbG9uZSIsImJhY2tncm91bmRfY29sb3IiOiIjRkZGOEU3IiwidGhlbWVfY29sb3IiOiIjOEI0NTEzIiwiaWNvbnMiOlt7InNyYyI6ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU1USTRJaUJvWldsbmFIUTlJakV5T0NJZ2RtbGxkMEp2ZUQwaU1DQXdJREV5T0NBeU9DSWdabWxzYkQwaUl6aENORFV4TXlJZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWo0OGNtVmpkQ0IzYVdSMGFEMGlNVEk0SWlCb1pXbG5hSFE5SWpFeU9DSWdabWxzYkQwaUl6aENORFV4TXlJdkBqOGRHVjRkQ0I0UFNJMk5DSWdlVDBpTmpRaUlHWnBiR3c5SW1ac2FXZG9kR052Ykc5eUlpQm1iMjUwTFdaaGJXbHNlVDBpUVhKcFlXd3NJSE5sY21sbUlpQm1iMjUwTFhOcGVtVTlJakUySWlCbWIyNTBMWGRsYVdkb2REMGlOekF3SWo1VGFXVnVZMlU4TDNSbGVIUStQQzl6ZG1jKyIsInNpemVzIjoiMTI4eDEyOCIsInR5cGUiOiJpbWFnZS9zdmcreG1sIn1dfQ==">
    <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0d9488">

    <!-- Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Reem+Kufi:wght@400;500;600;700&display=swap">
    <link href="https://fonts.googleapis.com/css2?family=Cambria+Math:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Icons8 Icons -->
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">

    <style>
        :root {
            /* Default Theme Variables */
            --primary-color: #8B4513;
            --secondary-color: #F5DEB3;
            --accent-color: #CD853F;
            --text-dark: #333333;
            --text-light: #F8F8FF;
            --background-light: #FFF8E7;
            --background-dark: #5D5D5D;
            --font-size-base: 16px;
            --font-size-lg: 18px;
            --font-size-xl: 20px;
            --touch-target: 44px;
        }

        /* Theme Variations */
        [data-theme="dark"] {
            --primary-color: #2D3748;
            --secondary-color: #4A5568;
            --accent-color: #63B3ED;
            --text-dark: #F7FAFC;
            --text-light: #F7FAFC;
            --background-light: #1A202C;
            --background-dark: #2D3748;
        }

        [data-theme="cartoon"] {
            --primary-color: #FF6B6B;
            --secondary-color: #FFE66D;
            --accent-color: #4ECDC4;
            --text-dark: #2C3E50;
            --text-light: #FFFFFF;
            --background-light: #FFF5F5;
            --background-dark: #FF6B6B;
        }

        [data-theme="paper"] {
            --primary-color: #8B7355;
            --secondary-color: #F5F5DC;
            --accent-color: #D2B48C;
            --text-dark: #2F2F2F;
            --text-light: #FFFFFF;
            --background-light: #FFFEF7;
            --background-dark: #8B7355;
        }

        [data-theme="nature"] {
            --primary-color: #2E7D32;
            --secondary-color: #C8E6C9;
            --accent-color: #66BB6A;
            --text-dark: #1B5E20;
            --text-light: #FFFFFF;
            --background-light: #F1F8E9;
            --background-dark: #2E7D32;
        }

        /* Icon Pack Styles */
        .icon-educational .fas, .icon-educational .fab { font-family: 'Font Awesome 6 Free'; }
        .icon-minimal .fas, .icon-minimal .fab { font-weight: 300; }
        .icon-childlike .fas, .icon-childlike .fab { 
            transform: scale(1.2); 
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));
        }
        .icon-geometric .fas, .icon-geometric .fab { 
            font-family: 'Line Awesome Free'; 
            font-weight: 900;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Crimson Text', 'Amiri', serif;
            background-color: var(--background-light);
            color: var(--text-dark);
            line-height: 1.6;
            margin: 0;
            padding: 0;
            font-size: var(--font-size-base);
            transition: all 0.3s ease;
        }

        .arabic-text {
            font-family: 'Amiri', serif;
        }

        .english-text {
            font-family: 'Crimson Text', serif;
            direction: ltr;
        }

        .number-text {
            font-family: 'Cambria Math', serif;
            direction: ltr;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Reem Kufi', sans-serif;
            font-weight: 700;
        }
        
        /* Navigation Styles */
        .navbar {
            background-color: var(--primary-color);
            color: var(--text-light);
            padding: 1rem;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }

        .navbar.hidden {
            transform: translateY(-100%);
        }

        .navbar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .navbar-brand {
            font-size: var(--font-size-xl);
            font-weight: bold;
        }

        .navbar-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .theme-switcher, .icon-switcher {
            background: transparent;
            border: 2px solid var(--text-light);
            color: var(--text-light);
            padding: 0.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            min-width: var(--touch-target);
            min-height: var(--touch-target);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .theme-switcher:hover, .icon-switcher:hover {
            background-color: var(--text-light);
            color: var(--primary-color);
        }

        .pwa-install-btn {
            background: var(--accent-color);
            color: var(--text-light);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
            min-height: var(--touch-target);
            font-weight: bold;
            transition: all 0.3s ease;
            display: none;
        }

        .pwa-install-btn:hover {
            background: var(--secondary-color);
            color: var(--primary-color);
        }

        .pwa-install-btn.show {
            display: block;
        }

        /* Mobile Menu */
        .mobile-menu-toggle {
            display: none;
            background: transparent;
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
            min-width: var(--touch-target);
            min-height: var(--touch-target);
        }

        .mobile-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 80%;
            height: 100vh;
            background: var(--primary-color);
            z-index: 1001;
            transition: right 0.3s ease;
            padding: 2rem;
            overflow-y: auto;
        }

        .mobile-menu.active {
            right: 0;
        }

        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            display: none;
        }

        .mobile-menu-overlay.active {
            display: block;
        }

        .mobile-menu-close {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: transparent;
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
            min-width: var(--touch-target);
            min-height: var(--touch-target);
        }

        .mobile-menu-content {
            margin-top: 3rem;
        }

        .mobile-menu-item {
            display: block;
            color: var(--text-light);
            text-decoration: none;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
            min-height: var(--touch-target);
            display: flex;
            align-items: center;
        }

        /* Search Bar Enhancements */
        .search-bar {
            position: fixed;
            top: 80px;
            left: 0;
            right: 0;
            background: var(--background-light);
            padding: 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 999;
            transform: translateY(-100%);
            transition: transform 0.3s ease;
        }

        .search-bar.visible {
            transform: translateY(0);
        }

        .search-bar.hidden-on-scroll {
            transform: translateY(-100%);
        }

        .search-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--primary-color);
            border-radius: 0.5rem;
            font-size: var(--font-size-base);
            min-height: var(--touch-target);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(to bottom, var(--primary-color), var(--accent-color));
            color: var(--text-light);
            padding: 8rem 1rem 3rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="2"/></svg>') center/cover no-repeat;
            opacity: 0.15;
            z-index: -1;
        }
        
        /* Card Styles */
        .card {
            background-color: var(--text-light);
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            color: var(--text-dark);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0,0,0,0.1);
        }
        
        /* Button Styles */
        .btn {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            border-radius: 5px;
            text-decoration: none;
            transition: all 0.3s ease;
            font-weight: bold;
            text-align: center;
            cursor: pointer;
            border: none;
            min-height: var(--touch-target);
            min-width: var(--touch-target);
            font-size: var(--font-size-base);
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: var(--text-light);
            border: 2px solid var(--primary-color);
        }
        
        .btn-primary:hover {
            background-color: transparent;
            color: var(--primary-color);
        }
        
        .btn-secondary {
            background-color: transparent;
            color: var(--text-light);
            border: 2px solid var(--text-light);
        }
        
        .btn-secondary:hover {
            background-color: var(--text-light);
            color: var(--primary-color);
        }
        
        .btn-accent {
            background-color: var(--accent-color);
            color: var(--text-light);
            border: 2px solid var(--accent-color);
        }
        
        .btn-accent:hover {
            background-color: transparent;
            color: var(--accent-color);
        }
        
        /* Footer */
        footer {
            background-color: var(--primary-color);
            color: var(--text-light);
            text-align: center;
            padding: 2rem 1rem;
            margin-top: 3rem;
        }
        
        /* Unit and Lesson Cards */
        .unit-card {
            background-color: var(--text-light);
            border-radius: 10px;
            border-right: 5px solid var(--accent-color);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
            overflow: hidden;
            color: var(--text-dark);
        }
        
        .unit-header {
            background-color: var(--secondary-color);
            padding: 1rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: var(--touch-target);
            color: var(--text-dark);
        }
        
        .unit-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }
        
        .lesson-card {
            border-bottom: 1px solid #eee;
            padding: 0;
        }
        
        .lesson-header {
            padding: 1rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s;
            min-height: var(--touch-target);
        }
        
        .lesson-header:hover {
            background-color: rgba(205, 133, 63, 0.1);
        }
        
        .lesson-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease, padding 0.5s ease;
        }
        
        .lesson-content.active {
            padding: 1rem;
            border-top: 1px solid #eee;
        }
        
        /* Search Container */
        .search-container {
            position: fixed;
            top: -100%;
            left: 0;
            right: 0;
            background-color: rgba(0,0,0,0.95);
            padding: 2rem 1rem;
            z-index: 1001;
            transition: top 0.5s ease;
            display: flex;
            flex-direction: column;
        }
        
        .search-container.active {
            top: 0;
        }
        
        .search-results {
            max-height: 70vh;
            overflow-y: auto;
            color: white;
        }
        
        .search-result-item {
            padding: 0.75rem;
            border-bottom: 1px solid rgba(255,255,255,0.2);
            cursor: pointer;
            min-height: var(--touch-target);
            display: flex;
            align-items: center;
        }
        
        .search-result-item:hover {
            background-color: rgba(255,255,255,0.1);
        }
        
        /* Definition and Quiz Styles */
        .definition-box {
            background-color: #e6f7ff;
            border-right: 4px solid #1890ff;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 5px;
            cursor: pointer;
            position: relative;
            min-height: var(--touch-target);
        }
        
        .definition-content {
            display: none;
            padding-top: 1rem;
            border-top: 1px dashed #1890ff;
            margin-top: 1rem;
        }
        
        .quiz-container {
            background-color: #f9f0ff;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border: 1px solid #d3adf7;
        }
        
        .quiz-options {
            margin-top: 1rem;
        }
        
        .quiz-option {
            display: block;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            border: 1px solid #d9d9d9;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            min-height: var(--touch-target);
        }
        
        .quiz-option:hover {
            background-color: #f0f0f0;
        }
        
        .quiz-option.selected {
            background-color: #d3adf7;
            border-color: #722ed1;
            color: #722ed1;
        }
        
        .quiz-option.correct {
            background-color: #b7eb8f;
            border-color: #52c41a;
            color: #135200;
        }
        
        .quiz-option.wrong {
            background-color: #ffccc7;
            border-color: #ff4d4f;
            color: #a8071a;
        }
        
        .quiz-feedback {
            margin-top: 1rem;
            padding: 0.75rem;
            border-radius: 5px;
            display: none;
        }
        
        .quiz-feedback.correct {
            background-color: #f6ffed;
            border: 1px solid #b7eb8f;
            color: #52c41a;
        }
        
        .quiz-feedback.wrong {
            background-color: #fff2f0;
            border: 1px solid #ffccc7;
            color: #ff4d4f;
        }

        /* Responsive Design */
        @media (max-width: 640px) {
            .mobile-menu-toggle {
                display: block;
            }

            .navbar-controls > *:not(.mobile-menu-toggle):not(.pwa-install-btn) {
                display: none;
            }

            .hero {
                padding: 6rem 1rem 2rem;
            }

            .card {
                padding: 1.2rem;
                margin-bottom: 1.2rem;
            }

            .btn {
                padding: 1rem 1.5rem;
                font-size: var(--font-size-lg);
            }

            :root {
                --font-size-base: 18px;
                --font-size-lg: 20px;
                --font-size-xl: 22px;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 10px;
            }
        }

        /* Accessibility Improvements */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus Styles */
        button:focus, .btn:focus, input:focus, .quiz-option:focus {
            outline: 2px solid var(--accent-color);
            outline-offset: 2px;
        }

        /* High Contrast Mode Support */
        @media (prefers-contrast: high) {
            .card {
                border: 2px solid var(--text-dark);
            }
            
            .btn {
                border-width: 3px;
            }
        }

        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body data-theme="default" data-icon-pack="educational">
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="navbar-content">
            <div class="navbar-brand">منهج Science</div>
            <div class="navbar-controls">
                <button class="theme-switcher" id="theme-switcher" aria-label="تغيير المظهر">
                    <i class="fas fa-palette"></i>
                </button>
                <button class="icon-switcher" id="icon-switcher" aria-label="تغيير الأيقونات">
                    <i class="fas fa-icons"></i>
                </button>
                <button class="pwa-install-btn" id="pwa-install-btn" aria-label="إضافة للشاشة الرئيسية">
                    <i class="fas fa-download"></i>
                    إضافة للهاتف
                </button>
                <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="فتح القائمة">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu-overlay" id="mobile-menu-overlay"></div>
    <div class="mobile-menu" id="mobile-menu">
        <button class="mobile-menu-close" id="mobile-menu-close" aria-label="إغلاق القائمة">
            <i class="fas fa-times"></i>
        </button>
        <div class="mobile-menu-content">
            <a href="#curriculum" class="mobile-menu-item">
                <i class="fas fa-book"></i>
                <span>المنهج الدراسي</span>
            </a>
            <a href="#features" class="mobile-menu-item">
                <i class="fas fa-star"></i>
                <span>مميزات الموقع</span>
            </a>
            <a href="exams.html" class="mobile-menu-item">
                <i class="fas fa-clipboard-check"></i>
                <span>صفحة الاختبارات</span>
            </a>
            <button class="mobile-menu-item" id="mobile-search-toggle">
                <i class="fas fa-search"></i>
                <span>البحث في المنهج</span>
            </button>
            <div style="padding: 1rem 0; border-bottom: 1px solid rgba(255,255,255,0.2);">
                <label style="color: var(--text-light); display: block; margin-bottom: 0.5rem;">المظهر:</label>
                <select id="mobile-theme-select" style="width: 100%; padding: 0.5rem; border-radius: 0.25rem;">
                    <option value="default">افتراضي</option>
                    <option value="dark">داكن</option>
                    <option value="cartoon">كرتوني</option>
                    <option value="paper">ورقي</option>
                    <option value="nature">طبيعي</option>
                </select>
            </div>
            <div style="padding: 1rem 0;">
                <label style="color: var(--text-light); display: block; margin-bottom: 0.5rem;">الأيقونات:</label>
                <select id="mobile-icon-select" style="width: 100%; padding: 0.5rem; border-radius: 0.25rem;">
                    <option value="educational">تعليمية</option>
                    <option value="minimal">بسيطة</option>
                    <option value="childlike">طفولية</option>
                    <option value="geometric">هندسية</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Search Bar -->
    <div class="search-bar" id="search-bar">
        <div class="container mx-auto">
            <input type="text" class="search-input" id="main-search-input" placeholder="ابحث في المنهج..." aria-label="البحث في المنهج">
        </div>
    </div>

    <!-- Search Container (Full Screen) -->
    <div class="search-container" id="search-container">
        <div class="container mx-auto">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-white text-xl">ابحث في المنهج</h2>
                <button id="search-close" class="text-white text-xl hover:text-red-500 transition-colors" aria-label="إغلاق البحث">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <input type="text" class="search-input" id="fullscreen-search-input" placeholder="اكتب كلمة للبحث..." aria-label="البحث في المنهج">
            <div class="search-results" id="search-results"></div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container mx-auto">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">منهج Science للصف الأول الإعدادي</h1>
            <h2 class="text-xl md:text-2xl mb-6">الترم الثاني 2024/2025</h2>
            <p class="text-lg mb-8">شرح تفصيلي لمنهج العلوم باللغتين الإنجليزية والعربية مع تدريبات تفاعلية</p>
            <div class="flex flex-col md:flex-row justify-center space-y-4 md:space-y-0 md:space-x-4 gap-4">
                <a href="#curriculum" class="btn btn-secondary">
                    <i class="fas fa-book"></i>
                    المنهج الدراسي
                </a>
                <a href="exams.html" class="btn btn-secondary">
                    <i class="fas fa-clipboard-check"></i>
                    صفحة الاختبارات
                </a>
                <a href="#features" class="btn btn-secondary">
                    <i class="fas fa-star"></i>
                    مميزات الموقع
                </a>
                <button id="hero-search-toggle" class="btn btn-secondary">
                    <i class="fas fa-search"></i>
                    بحث داخل المنهج
                </button>
            </div>
        </div>
    </section>

    <!-- Features -->
    <section id="features" class="py-12">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-8">مميزات الموقع</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="card">
                    <div class="text-center mb-4">
                        <i class="fas fa-language text-5xl" style="color: var(--accent-color);"></i>
                    </div>
                    <h3 class="text-xl font-bold text-center mb-2">شرح مبسط باللغتين</h3>
                    <p class="text-center">شرح تفصيلي باللغة الإنجليزية مع توضيح باللهجة المصرية للفهم السريع</p>
                </div>
                <div class="card">
                    <div class="text-center mb-4">
                        <i class="fas fa-question-circle text-5xl" style="color: var(--accent-color);"></i>
                    </div>
                    <h3 class="text-xl font-bold text-center mb-2">أسئلة تفاعلية</h3>
                    <p class="text-center">اختبر فهمك مع أسئلة تفاعلية متنوعة على كل درس</p>
                </div>
                <div class="card">
                    <div class="text-center mb-4">
                        <i class="fas fa-mobile-alt text-5xl" style="color: var(--accent-color);"></i>
                    </div>
                    <h3 class="text-xl font-bold text-center mb-2">مناسب للهواتف</h3>
                    <p class="text-center">تصميم متجاوب يناسب جميع أحجام الشاشات للمذاكرة في أي وقت وأي مكان</p>
                </div>
                <div class="card">
                    <div class="text-center mb-4">
                        <i class="fas fa-search text-5xl" style="color: var(--accent-color);"></i>
                    </div>
                    <h3 class="text-xl font-bold text-center mb-2">البحث في المحتوى</h3>
                    <p class="text-center">بحث سريع في كل محتويات المنهج للوصول السريع للمعلومة التي تحتاجها</p>
                </div>
                <div class="card">
                    <div class="text-center mb-4">
                        <i class="fas fa-palette text-5xl" style="color: var(--accent-color);"></i>
                    </div>
                    <h3 class="text-xl font-bold text-center mb-2">مظاهر متعددة</h3>
                    <p class="text-center">اختر من بين عدة مظاهر مختلفة لتجربة مذاكرة مريحة لعينيك</p>
                </div>
                <div class="card">
                    <div class="text-center mb-4">
                        <i class="fas fa-download text-5xl" style="color: var(--accent-color);"></i>
                    </div>
                    <h3 class="text-xl font-bold text-center mb-2">تطبيق للهاتف</h3>
                    <p class="text-center">أضف الموقع لشاشة هاتفك الرئيسية واستخدمه كتطبيق مستقل</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing -->
    <section class="py-12">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-2">احصل على المذكرة الكاملة</h2>
            <p class="text-center text-xl mb-8">27 جنيه فقط - استثمار بسيط لمستقبل أفضل!</p>
            <div class="flex justify-center">
                <div class="card w-full max-w-md">
                    <h3 class="text-2xl font-bold text-center mb-2">مميزات المذكرة الكاملة</h3>
                    <ul class="mb-6 list-none">
                        <li class="flex items-center mb-3">
                            <i class="fas fa-check-circle text-green-500 ml-2"></i>
                            شرح كامل لجميع دروس المنهج
                        </li>
                        <li class="flex items-center mb-3">
                            <i class="fas fa-check-circle text-green-500 ml-2"></i>
                            أكثر من 90 سؤال للتدريب
                        </li>
                        <li class="flex items-center mb-3">
                            <i class="fas fa-check-circle text-green-500 ml-2"></i>
                            نماذج امتحانات للتدريب
                        </li>
                        <li class="flex items-center mb-3">
                            <i class="fas fa-check-circle text-green-500 ml-2"></i>
                            مراجعة نهائية شاملة
                        </li>
                        <li class="flex items-center mb-3">
                            <i class="fas fa-check-circle text-green-500 ml-2"></i>
                            تريكات لحل الأسئلة الصعبة
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Related Products -->
    <section class="py-12" style="background-color: var(--secondary-color);">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-8">روابط لمذكرات أخرى</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="card">
                    <h3 class="text-xl font-bold mb-2">مذكرة اللغة العربية</h3>
                    <p class="mb-4">الصف الأول الإعدادي - الترم الثاني</p>
                    <div class="flex justify-between items-center">
                        <span class="font-bold text-lg">25 جنيه</span>
                        <a href="https://mohammedahmady.github.io/Arabic/" class="btn btn-primary">معرفة التفاصيل</a>
                    </div>
                </div>
                <div class="card">
                    <h3 class="text-xl font-bold mb-2">مذكرة الرياضيات</h3>
                    <p class="mb-4">الصف الأول الإعدادي - الترم الثاني</p>
                    <div class="flex justify-between items-center">
                        <span class="font-bold text-lg">27 جنيه</span>
                        <a href="https://mohammedahmady.github.io/Math/" class="btn btn-primary">معرفة التفاصيل</a>
                    </div>
                </div>
                <div class="card">
                    <h3 class="text-xl font-bold mb-2">مذكرة ساينس مجانية pdf</h3>
                    <p class="mb-4">الصف الأول الإعدادي - الترم الثاني</p>
                    <div class="flex justify-between items-center">
                        <span class="font-bold text-lg">مجانا</span>
                        <a href="https://drive.google.com/file/d/17rPjhXPbOcdY5w7FCs0SLPMEj0C4cXh4/view?pli=1" class="btn btn-primary">معرفة التفاصيل</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Curriculum -->
    <section id="curriculum" class="py-12 content-container">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-8">المنهج الدراسي</h2>
            
            <!-- Unit 1 -->
            <div class="unit-card">
                <div class="unit-header" data-unit="unit1">
                    <h3 class="text-2xl font-bold">الوحدة الأولى: المواد الكيميائية (Chemical Substances)</h3>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="unit-content" id="unit1">
                    <!-- Lesson 1 -->
                    <div class="lesson-card">
                        <div class="lesson-header" data-lesson="lesson1-1">
                            <h4 class="text-xl font-bold">الدرس الأول: الفلزات واللافلزات (Metals and Nonmetals)</h4>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="lesson-content" id="lesson1-1">
                            <div class="mb-6 english-text">
                                <h5 class="text-lg font-bold mb-3">Detailed Explanation in English</h5>
                                <h6 class="text-md font-bold mb-2">Introduction to Metals and Nonmetals</h6>
                                <p class="mb-4">Elements are classified as metals or nonmetals based on their physical and chemical properties. This classification helps scientists understand how different elements behave and interact with each other.</p>
                                
                                <h6 class="text-md font-bold mb-2">Metals:</h6>
                                <p class="mb-2">Metals are elements that have 1, 2, or 3 electrons in their outer energy level. This electron configuration gives metals their distinctive properties. Most elements in the periodic table are metals (about 80%).</p>
                                
                                <h6 class="text-md font-bold mb-2">Physical Properties of Metals:</h6>
                                <ul class="list-disc pl-6 mb-4">
                                    <li>Luster: Metals have a shiny appearance because they reflect light.</li>
                                    <li>Conductivity: Metals are good conductors of heat and electricity due to the presence of free electrons.</li>
                                    <li>Malleability: Metals can be hammered into thin sheets without breaking.</li>
                                    <li>Ductility: Metals can be drawn into wires without breaking.</li>
                                    <li>High melting and boiling points: Most metals have high melting points due to strong metallic bonds.</li>
                                </ul>
                                
                                <h6 class="text-md font-bold mb-2">Chemical Properties of Metals:</h6>
                                <ul class="list-disc pl-6 mb-4">
                                    <li>Metals tend to lose electrons to form positive ions (cations).</li>
                                    <li>Most metals react with oxygen to form basic oxides.</li>
                                    <li>Many metals react with acids to produce hydrogen gas.</li>
                                </ul>
                                
                                <p class="mb-4">Examples of Metals: Iron (Fe), Aluminum (Al), Copper (Cu), Gold (Au), Silver (Ag), Sodium (Na), Potassium (K), Calcium (Ca)</p>
                                
                                <h6 class="text-md font-bold mb-2">Nonmetals:</h6>
                                <p class="mb-2">Nonmetals are elements that have 5, 6, or 7 electrons in their outer energy level. There are fewer nonmetals than metals in the periodic table.</p>
                                
                                <h6 class="text-md font-bold mb-2">Physical Properties of Nonmetals:</h6>
                                <ul class="list-disc pl-6 mb-4">
                                    <li>No luster: Most nonmetals are dull (not shiny).</li>
                                    <li>Poor conductors: Nonmetals are poor conductors of heat and electricity (they are insulators).</li>
                                    <li>Brittle: Nonmetals are generally brittle and cannot be rolled into sheets or drawn into wires.</li>
                                    <li>Low melting and boiling points: Most nonmetals have lower melting and boiling points compared to metals.</li>
                                </ul>
                                
                                <h6 class="text-md font-bold mb-2">Chemical Properties of Nonmetals:</h6>
                                <ul class="list-disc pl-6 mb-4">
                                    <li>Nonmetals tend to gain electrons to form negative ions (anions).</li>
                                    <li>Nonmetals react with oxygen to form acidic oxides.</li>
                                    <li>Nonmetals typically do not react with acids.</li>
                                </ul>
                                
                                <p class="mb-4">Examples of Nonmetals: Oxygen (O), Nitrogen (N), Chlorine (Cl), Sulfur (S), Phosphorus (P), Bromine (Br)</p>
                                
                                <h6 class="text-md font-bold mb-2">Metalloids (Semimetals):</h6>
                                <p class="mb-2">Some elements have properties of both metals and nonmetals and are classified as metalloids or semimetals.</p>
                                <p class="mb-4">Examples of Metalloids: Silicon (Si), Boron (B), Arsenic (As), Germanium (Ge)</p>
                                
                                <h6 class="text-md font-bold mb-2">Alloys:</h6>
                                <p class="mb-2">Alloys are mixtures of metals, or metals with other elements. They often have properties superior to those of the pure metals.</p>
                                <p class="mb-4">Examples of Alloys:</p>
                                <ul class="list-disc pl-6 mb-4">
                                    <li>Bronze: Copper + Tin</li>
                                    <li>Brass: Copper + Zinc</li>
                                    <li>Steel: Iron + Carbon</li>
                                    <li>Stainless Steel: Iron + Chromium + Nickel</li>
                                </ul>
                            </div>
                            
                            <div class="mb-6 arabic-text">
                                <h5 class="text-lg font-bold mb-3">توضيح بالبلدي (الشرح بالعامية المصرية)</h5>
                                <p class="mb-4">بص يا صاحبي، الدرس دة بيتكلم عن حاجتين مهمين في الكيمياء: الفلزات (الميتالز) واللافلزات (النون ميتالز).</p>
                                <p class="mb-4">الفلزات دي زي الحديد والنحاس والذهب والفضة، يعني الحاجات اللي بتلمع وبتوصل الكهربا كويس. ليه بتبقى كدة؟ لأن في تركيبها الإلكتروني، بيبقى عندها 1 أو 2 أو 3 إلكترونات في المستوى الخارجي بتاعها. المعادن دي بتتميز إنها لامعة، بتوصل الكهربا والحرارة كويس، وكمان ممكن تتشكل وتتمط من غير ما تتكسر.</p>
                                <p class="mb-4">أما اللافلزات، زي الأكسجين والنيتروجين والفوسفور، فدي بيبقى عندها 5 أو 6 أو 7 إلكترونات في المستوى الخارجي بتاعها. بتبقى معظمها مش لامعة، ومش بتوصل الحرارة والكهربا كويس، وغالباً بتتكسر بسهولة يعني مش زي المعادن اللي ممكن تتشكل وتتمط.</p>
                                <p class="mb-4">وفيه كمان حاجة اسمها السبائك (الألويز)، ودي بتتكون لما نخلط معادن مع بعضها أو مع عناصر تانية. زي البرونز اللي هو نحاس مع قصدير، أو البراس (النحاس الأصفر) اللي هو نحاس مع زنك.</p>
                            </div>
                            
                            <div class="definition-box">
                                <div class="flex justify-between items-center">
                                    <h5 class="font-bold">ما هي الفلزات (Metals)؟</h5>
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                                <div class="definition-content">
                                    <p>الفلزات هي عناصر لها 1-3 إلكترونات في مستوى الطاقة الخارجي، وتتميز بأنها لامعة، موصلة للحرارة والكهرباء، قابلة للطرق والسحب، ولها درجات انصهار عالية.</p>
                                </div>
                            </div>
                            
                            <div class="definition-box">
                                <div class="flex justify-between items-center">
                                    <h5 class="font-bold">ما هي اللافلزات (Nonmetals)؟</h5>
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                                <div class="definition-content">
                                    <p>اللافلزات هي عناصر لها 5-7 إلكترونات في مستوى الطاقة الخارجي، وتتميز بأنها غير لامعة، عازلة للحرارة والكهرباء، هشة، وذات درجات انصهار منخفضة نسبياً.</p>
                                </div>
                            </div>
                            
                            <div class="quiz-container">
                                <h5 class="text-lg font-bold mb-3">تحقق من فهمك</h5>
                                <div class="quiz-question" data-answer="C">
                                    <p class="font-bold mb-2">1. Which of the following elements is NOT a metal?</p>
                                    <div class="quiz-options">
                                        <div class="quiz-option" data-option="A">A) Potassium</div>
                                        <div class="quiz-option" data-option="B">B) Calcium</div>
                                        <div class="quiz-option" data-option="C">C) Sulfur</div>
                                        <div class="quiz-option" data-option="D">D) Iron</div>
                                    </div>
                                    <div class="quiz-feedback"></div>
                                </div>
                                
                                <div class="quiz-question mt-6" data-answer="A">
                                    <p class="font-bold mb-2">2. Which property best describes metals but not nonmetals?</p>
                                    <div class="quiz-options">
                                        <div class="quiz-option" data-option="A">A) High electrical conductivity</div>
                                        <div class="quiz-option" data-option="B">B) High electronegativity</div>
                                        <div class="quiz-option" data-option="C">C) Forms acidic oxides</div>
                                        <div class="quiz-option" data-option="D">D) Gains electrons easily</div>
                                    </div>
                                    <div class="quiz-feedback"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Additional lessons would continue here with similar structure -->
                    <!-- For brevity, I'm including just the first lesson, but the full implementation would include all lessons -->
                </div>
            </div>
            
            <!-- Additional units would continue here -->
            <!-- Scientific Terms Table -->
            <div class="mt-12">
                <h3 class="text-2xl font-bold mb-6 text-center">جدول المصطلحات العلمية</h3>
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border border-gray-300 rounded-lg">
                        <thead style="background-color: var(--secondary-color);">
                            <tr>
                                <th class="border border-gray-300 px-4 py-2">المصطلح الإنجليزي</th>
                                <th class="border border-gray-300 px-4 py-2">المعنى بالعربية</th>
                                <th class="border border-gray-300 px-4 py-2">التوضيح بالعامية المصرية</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="border border-gray-300 px-4 py-2">Metal</td>
                                <td class="border border-gray-300 px-4 py-2">فلز</td>
                                <td class="border border-gray-300 px-4 py-2">معدن لامع بيوصل الكهربا والحرارة</td>
                            </tr>
                            <tr class="bg-gray-100">
                                <td class="border border-gray-300 px-4 py-2">Nonmetal</td>
                                <td class="border border-gray-300 px-4 py-2">لافلز</td>
                                <td class="border border-gray-300 px-4 py-2">عناصر مش معدنية، غالباً مش بتوصل الكهربا</td>
                            </tr>
                            <tr>
                                <td class="border border-gray-300 px-4 py-2">Acid</td>
                                <td class="border border-gray-300 px-4 py-2">حمض</td>
                                <td class="border border-gray-300 px-4 py-2">مادة حامضة زي الخل والليمون، بتحول ورقة اللتمس الزرقا لحمرا</td>
                            </tr>
                            <tr class="bg-gray-100">
                                <td class="border border-gray-300 px-4 py-2">Alkali</td>
                                <td class="border border-gray-300 px-4 py-2">قلوي</td>
                                <td class="border border-gray-300 px-4 py-2">مادة قاعدية زي الصابون، بتحول ورقة اللتمس الحمرا لزرقا</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- Tips Section -->
    <section class="py-12" style="background-color: var(--secondary-color);">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-8">نصائح للنجاح في امتحان مادة العلوم</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="card">
                    <h3 class="text-xl font-bold mb-4">نصائح عامة للمذاكرة</h3>
                    <ul class="list-none">
                        <li class="flex items-start mb-3">
                            <i class="fas fa-check-circle ml-2 mt-1" style="color: var(--accent-color);"></i>
                            <div>
                                <b>افهم ولا تحفظ:</b> ركز على فهم المفاهيم الأساسية وكيفية ارتباطها ببعضها البعض بدلاً من الحفظ الأعمى.
                            </div>
                        </li>
                        <li class="flex items-start mb-3">
                            <i class="fas fa-check-circle ml-2 mt-1" style="color: var(--accent-color);"></i>
                            <div>
                                <b>رسم العمليات:</b> استخدم الرسومات البسيطة لتوضيح وتذكر العمليات المختلفة مثل دورة الماء ودورة الصخور والسلسلة الغذائية.
                            </div>
                        </li>
                        <li class="flex items-start mb-3">
                            <i class="fas fa-check-circle ml-2 mt-1" style="color: var(--accent-color);"></i>
                            <div>
                                <b>المصطلحات:</b> اعمل بطاقات (كروت) للمصطلحات العلمية مع معانيها وأمثلة عليها، وراجعها باستمرار.
                            </div>
                        </li>
                        <li class="flex items-start mb-3">
                            <i class="fas fa-check-circle ml-2 mt-1" style="color: var(--accent-color);"></i>
                            <div>
                                <b>الربط بالحياة اليومية:</b> ابحث عن أمثلة من حياتك اليومية على المفاهيم التي تدرسها، فهذا يساعد على تثبيت المعلومات.
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="card">
                    <h3 class="text-xl font-bold mb-4">نصائح لحل أسئلة الامتحان</h3>
                    <ul class="list-none">
                        <li class="flex items-start mb-3">
                            <i class="fas fa-check-circle ml-2 mt-1" style="color: var(--accent-color);"></i>
                            <div>
                                <b>اقرأ السؤال بعناية:</b> تأكد من فهمك للمطلوب قبل الإجابة.
                            </div>
                        </li>
                        <li class="flex items-start mb-3">
                            <i class="fas fa-check-circle ml-2 mt-1" style="color: var(--accent-color);"></i>
                            <div>
                                <b>استخدم التعريفات الصحيحة:</b> عند الإجابة على أسئلة التعريفات، استخدم المصطلحات العلمية الصحيحة.
                            </div>
                        </li>
                        <li class="flex items-start mb-3">
                            <i class="fas fa-check-circle ml-2 mt-1" style="color: var(--accent-color);"></i>
                            <div>
                                <b>رتب أفكارك:</b> في الأسئلة المقالية، رتب أفكارك قبل الكتابة وقسم إجابتك إلى نقاط منظمة.
                            </div>
                        </li>
                        <li class="flex items-start mb-3">
                            <i class="fas fa-check-circle ml-2 mt-1" style="color: var(--accent-color);"></i>
                            <div>
                                <b>الوحدات:</b> تأكد من استخدام الوحدات الصحيحة في الإجابات التي تتضمن حسابات أو قياسات.
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container mx-auto px-4">
            <h2 class="text-2xl font-bold mb-4">منهج Science للصف الأول الإعدادي</h2>
            <p class="mb-4">الترم الثاني 2024/2025</p>
            <div class="flex justify-center space-x-4 gap-4">
                <a href="#" class="text-white hover:opacity-75 transition-colors" aria-label="فيسبوك">
                    <i class="fab fa-facebook-f text-2xl"></i>
                </a>
                <a href="#" class="text-white hover:opacity-75 transition-colors" aria-label="تويتر">
                    <i class="fab fa-twitter text-2xl"></i>
                </a>
                <a href="#" class="text-white hover:opacity-75 transition-colors" aria-label="يوتيوب">
                    <i class="fab fa-youtube text-2xl"></i>
                </a>
            </div>
            <p class="mt-6 text-sm">© جميع الحقوق محفوظة 2024</p>
        </div>
    </footer>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js')
      .then(() => console.log('✅ Service Worker Registered'))
      .catch(err => console.log('❌ Service Worker failed:', err));
  }
</script>

    <script>
        // Service Worker Registration for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                const swCode = `
                    const CACHE_NAME = 'science-curriculum-v1';
                    const urlsToCache = [
                        '/',
                        '/offline.html'
                    ];

                    self.addEventListener('install', event => {
                        event.waitUntil(
                            caches.open(CACHE_NAME)
                                .then(cache => cache.addAll(urlsToCache))
                        );
                    });

                    self.addEventListener('fetch', event => {
                        event.respondWith(
                            caches.match(event.request)
                                .then(response => {
                                    if (response) {
                                        return response;
                                    }
                                    return fetch(event.request);
                                })
                        );
                    });
                `;
                
                const blob = new Blob([swCode], { type: 'application/javascript' });
                const swUrl = URL.createObjectURL(blob);
                
                navigator.serviceWorker.register(swUrl)
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }

        // PWA Install Functionality
        let deferredPrompt;
        const pwaInstallBtn = document.getElementById('pwa-install-btn');

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Check if user is on mobile and hasn't installed before
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            const hasInstalled = localStorage.getItem('pwa-installed');
            
            if (isMobile && !hasInstalled) {
                pwaInstallBtn.classList.add('show');
            }
        });

        pwaInstallBtn.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                
                if (outcome === 'accepted') {
                    localStorage.setItem('pwa-installed', 'true');
                    pwaInstallBtn.classList.remove('show');
                }
                
                deferredPrompt = null;
            }
        });

        // Theme Management
        const themes = ['default', 'dark', 'cartoon', 'paper', 'nature'];
        const iconPacks = ['educational', 'minimal', 'childlike', 'geometric'];
        
        let currentTheme = localStorage.getItem('selected-theme') || 'default';
        let currentIconPack = localStorage.getItem('selected-icon-pack') || 'educational';

        function applyTheme(theme) {
            document.body.setAttribute('data-theme', theme);
            localStorage.setItem('selected-theme', theme);
            currentTheme = theme;
        }

        function applyIconPack(pack) {
            document.body.setAttribute('data-icon-pack', pack);
            document.body.className = document.body.className.replace(/icon-\w+/g, '');
            document.body.classList.add(`icon-${pack}`);
            localStorage.setItem('selected-icon-pack', pack);
            currentIconPack = pack;
        }

        // Apply saved preferences on load
        applyTheme(currentTheme);
        applyIconPack(currentIconPack);

        // Theme Switcher
        document.getElementById('theme-switcher').addEventListener('click', () => {
            const currentIndex = themes.indexOf(currentTheme);
            const nextIndex = (currentIndex + 1) % themes.length;
            applyTheme(themes[nextIndex]);
        });

        // Icon Pack Switcher
        document.getElementById('icon-switcher').addEventListener('click', () => {
            const currentIndex = iconPacks.indexOf(currentIconPack);
            const nextIndex = (currentIndex + 1) % iconPacks.length;
            applyIconPack(iconPacks[nextIndex]);
        });

        // Mobile Theme/Icon Selectors
        document.getElementById('mobile-theme-select').addEventListener('change', (e) => {
            applyTheme(e.target.value);
        });

        document.getElementById('mobile-icon-select').addEventListener('change', (e) => {
            applyIconPack(e.target.value);
        });

        // Set initial values for mobile selectors
        document.getElementById('mobile-theme-select').value = currentTheme;
        document.getElementById('mobile-icon-select').value = currentIconPack;

        // Mobile Menu Functionality
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
        const mobileMenuClose = document.getElementById('mobile-menu-close');

        function openMobileMenu() {
            mobileMenu.classList.add('active');
            mobileMenuOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeMobileMenu() {
            mobileMenu.classList.remove('active');
            mobileMenuOverlay.classList.remove('active');
            document.body.style.overflow = '';
        }

        mobileMenuToggle.addEventListener('click', openMobileMenu);
        mobileMenuClose.addEventListener('click', closeMobileMenu);
        mobileMenuOverlay.addEventListener('click', closeMobileMenu);

        // Close mobile menu when clicking on menu items
        document.querySelectorAll('.mobile-menu-item').forEach(item => {
            if (item.tagName === 'A') {
                item.addEventListener('click', closeMobileMenu);
            }
        });

        // Navbar Hide/Show on Scroll
        let lastScrollTop = 0;
        const navbar = document.getElementById('navbar');
        const searchBar = document.getElementById('search-bar');

        window.addEventListener('scroll', () => {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            if (scrollTop > lastScrollTop && scrollTop > 100) {
                // Scrolling down
                navbar.classList.add('hidden');
                searchBar.classList.add('hidden-on-scroll');
            } else {
                // Scrolling up
                navbar.classList.remove('hidden');
                searchBar.classList.remove('hidden-on-scroll');
            }
            
            lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
        });

        // Search Functionality
        const searchToggleButtons = [
            document.getElementById('hero-search-toggle'),
            document.getElementById('mobile-search-toggle')
        ];
        const searchContainer = document.getElementById('search-container');
        const searchClose = document.getElementById('search-close');
        const fullscreenSearchInput = document.getElementById('fullscreen-search-input');
        const searchResults = document.getElementById('search-results');
        const mainSearchInput = document.getElementById('main-search-input');

        function toggleSearch() {
            searchContainer.classList.toggle('active');
            if (searchContainer.classList.contains('active')) {
                fullscreenSearchInput.focus();
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = '';
            }
        }

        searchToggleButtons.forEach(btn => {
            if (btn) {
                btn.addEventListener('click', toggleSearch);
            }
        });

        searchClose.addEventListener('click', toggleSearch);

        // Search functionality
        function performSearch(searchTerm) {
            searchResults.innerHTML = '';
            
            if (searchTerm.length < 2) return;
            
            const lessonHeaders = document.querySelectorAll('.lesson-header');
            const results = [];
            
            lessonHeaders.forEach(header => {
                const lessonTitle = header.querySelector('h4').textContent.toLowerCase();
                const lessonId = header.getAttribute('data-lesson');
                
                if (lessonTitle.includes(searchTerm.toLowerCase())) {
                    results.push({
                        title: header.querySelector('h4').textContent,
                        id: lessonId
                    });
                }
            });

            if (results.length === 0) {
                const noResults = document.createElement('div');
                noResults.className = 'search-result-item';
                noResults.textContent = 'لا توجد نتائج للبحث';
                searchResults.appendChild(noResults);
                return;
            }

            results.forEach(result => {
                const resultItem = document.createElement('div');
                resultItem.className = 'search-result-item';
                resultItem.textContent = result.title;
                resultItem.addEventListener('click', () => {
                    toggleSearch();
                    
                    const lessonHeader = document.querySelector(`.lesson-header[data-lesson="${result.id}"]`);
                    if (lessonHeader) {
                        lessonHeader.scrollIntoView({ behavior: 'smooth' });
                        
                        const lessonContent = document.getElementById(result.id);
                        if (!lessonContent.style.maxHeight) {
                            setTimeout(() => {
                                lessonHeader.click();
                            }, 500);
                        }
                    }
                });
                searchResults.appendChild(resultItem);
            });
        }

        fullscreenSearchInput.addEventListener('input', (e) => {
            performSearch(e.target.value);
        });

        mainSearchInput.addEventListener('input', (e) => {
            performSearch(e.target.value);
        });

        // Show/Hide search bar
        mainSearchInput.addEventListener('focus', () => {
            searchBar.classList.add('visible');
        });

        // Unit and Lesson Toggle Functionality
        const unitHeaders = document.querySelectorAll('.unit-header');
        unitHeaders.forEach(header => {
            header.addEventListener('click', () => {
                const unitId = header.getAttribute('data-unit');
                const unitContent = document.getElementById(unitId);
                const icon = header.querySelector('i');
                
                if (unitContent.style.maxHeight) {
                    unitContent.style.maxHeight = null;
                    icon.classList.remove('fa-chevron-up');
                    icon.classList.add('fa-chevron-down');
                } else {
                    unitContent.style.maxHeight = unitContent.scrollHeight + 'px';
                    icon.classList.remove('fa-chevron-down');
                    icon.classList.add('fa-chevron-up');
                }
            });
        });

        const lessonHeaders = document.querySelectorAll('.lesson-header');
        lessonHeaders.forEach(header => {
            header.addEventListener('click', () => {
                const lessonId = header.getAttribute('data-lesson');
                const lessonContent = document.getElementById(lessonId);
                const icon = header.querySelector('i');
                
                if (lessonContent.style.maxHeight) {
                    lessonContent.style.maxHeight = null;
                    lessonContent.classList.remove('active');
                    icon.classList.remove('fa-chevron-up');
                    icon.classList.add('fa-chevron-down');
                } else {
                    const unitContent = header.closest('.unit-content');
                    const unitHeader = header.closest('.unit-card').querySelector('.unit-header');
                    
                    if (!unitContent.style.maxHeight) {
                        unitHeader.click();
                    }
                    
                    lessonContent.style.maxHeight = lessonContent.scrollHeight + 'px';
                    lessonContent.classList.add('active');
                    icon.classList.remove('fa-chevron-down');
                    icon.classList.add('fa-chevron-up');
                    
                    unitContent.style.maxHeight = unitContent.scrollHeight + lessonContent.scrollHeight + 'px';
                }
            });
        });

        // Definition Box Toggle
        const definitionBoxes = document.querySelectorAll('.definition-box');
        definitionBoxes.forEach(box => {
            box.addEventListener('click', () => {
                const content = box.querySelector('.definition-content');
                const icon = box.querySelector('i');
                
                if (content.style.display === 'block') {
                    content.style.display = 'none';
                    icon.classList.remove('fa-chevron-up');
                    icon.classList.add('fa-chevron-down');
                } else {
                    content.style.display = 'block';
                    icon.classList.remove('fa-chevron-down');
                    icon.classList.add('fa-chevron-up');
                }
                
                const lessonContent = box.closest('.lesson-content');
                if (lessonContent && lessonContent.style.maxHeight) {
                    lessonContent.style.maxHeight = lessonContent.scrollHeight + 'px';
                    
                    const unitContent = box.closest('.unit-content');
                    if (unitContent && unitContent.style.maxHeight) {
                        unitContent.style.maxHeight = unitContent.scrollHeight + 'px';
                    }
                }
            });
        });

        // Quiz Functionality
        const quizQuestions = document.querySelectorAll('.quiz-question');
        quizQuestions.forEach(question => {
            const options = question.querySelectorAll('.quiz-option');
            const correctAnswer = question.getAttribute('data-answer');
            const feedback = question.querySelector('.quiz-feedback');
            
            options.forEach(option => {
                option.addEventListener('click', () => {
                    options.forEach(opt => {
                        opt.classList.remove('selected', 'correct', 'wrong');
                    });
                    
                    option.classList.add('selected');
                    
                    const optionValue = option.getAttribute('data-option');
                    if (optionValue === correctAnswer) {
                        option.classList.add('correct');
                        feedback.textContent = 'إجابة صحيحة! أحسنت.';
                        feedback.className = 'quiz-feedback correct';
                        feedback.style.display = 'block';
                    } else {
                        option.classList.add('wrong');
                        const correctOption = question.querySelector(`.quiz-option[data-option="${correctAnswer}"]`);
                        correctOption.classList.add('correct');
                        feedback.textContent = 'إجابة خاطئة. حاول مرة أخرى.';
                        feedback.className = 'quiz-feedback wrong';
                        feedback.style.display = 'block';
                    }
                    
                    const lessonContent = question.closest('.lesson-content');
                    if (lessonContent && lessonContent.style.maxHeight) {
                        lessonContent.style.maxHeight = lessonContent.scrollHeight + 'px';
                        
                        const unitContent = question.closest('.unit-content');
                        if (unitContent && unitContent.style.maxHeight) {
                            unitContent.style.maxHeight = unitContent.scrollHeight + 'px';
                        }
                    }
                });
            });
        });

        // Keyboard Navigation Support
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                if (searchContainer.classList.contains('active')) {
                    toggleSearch();
                }
                if (mobileMenu.classList.contains('active')) {
                    closeMobileMenu();
                }
            }
            
            if (e.ctrlKey && e.key === 'k') {
                e.preventDefault();
                toggleSearch();
            }
        });

        // Touch Gesture Support for Mobile
        let touchStartX = 0;
        let touchStartY = 0;

        document.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
        });

        document.addEventListener('touchend', (e) => {
            if (!touchStartX || !touchStartY) return;
            
            const touchEndX = e.changedTouches[0].clientX;
            const touchEndY = e.changedTouches[0].clientY;
            
            const diffX = touchStartX - touchEndX;
            const diffY = touchStartY - touchEndY;
            
            if (Math.abs(diffX) > Math.abs(diffY)) {
                if (diffX > 50) {
                    // Swipe left - open mobile menu
                    if (window.innerWidth <= 640) {
                        openMobileMenu();
                    }
                } else if (diffX < -50) {
                    // Swipe right - close mobile menu
                    if (mobileMenu.classList.contains('active')) {
                        closeMobileMenu();
                    }
                }
            }
            
            touchStartX = 0;
            touchStartY = 0;
        });

        // Accessibility Improvements
        document.querySelectorAll('button, .btn, .quiz-option').forEach(element => {
            element.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    element.click();
                }
            });
        });

        // Performance Optimization - Lazy Loading
        const observerOptions = {
            root: null,
            rootMargin: '50px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.card, .unit-card').forEach(card => {
            observer.observe(card);
        });

        // Analytics and User Behavior Tracking (Privacy-Friendly)
        function trackUserInteraction(action, element) {
            const interaction = {
                action: action,
                element: element,
                timestamp: new Date().toISOString(),
                theme: currentTheme,
                iconPack: currentIconPack
            };
            
            // Store locally for privacy
            const interactions = JSON.parse(localStorage.getItem('user-interactions') || '[]');
            interactions.push(interaction);
            
            // Keep only last 100 interactions
            if (interactions.length > 100) {
                interactions.splice(0, interactions.length - 100);
            }
            
            localStorage.setItem('user-interactions', JSON.stringify(interactions));
        }

        // Track important interactions
        document.querySelectorAll('.lesson-header').forEach(header => {
            header.addEventListener('click', () => {
                trackUserInteraction('lesson-opened', header.getAttribute('data-lesson'));
            });
        });

        document.querySelectorAll('.quiz-option').forEach(option => {
            option.addEventListener('click', () => {
                trackUserInteraction('quiz-answered', option.closest('.quiz-question').getAttribute('data-answer'));
            });
        });

        console.log('🎓 منهج Science - Enhanced with PWA, Themes, and Mobile-First Features!');
        console.log('📱 Features: Theme Switcher, Icon Packs, PWA Install, Mobile Menu, Search');
        console.log('🎨 Current Theme:', currentTheme);
        console.log('🎯 Current Icon Pack:', currentIconPack);
    </script>
</body>
</html>
